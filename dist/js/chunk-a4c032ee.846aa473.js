(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a4c032ee"],{"122f":function(e,t,i){},"16d9":function(e,t,i){"use strict";t["a"]={methods:{scrollTo:function(e){this.$nextTick(function(){var t=document.querySelectorAll(e),i=t[t.length-1],s=i.getBoundingClientRect(),n=s.top;window.scroll?window.scroll({top:n,behavior:"smooth"}):window.scrollTo(0,n)})}}}},"1e5b":function(e,t,i){"use strict";var s=i("e716"),n=i.n(s);n.a},"214f":function(e,t,i){"use strict";var s=i("32e9"),n=i("2aba"),r=i("79e5"),o=i("be13"),a=i("2b4c");e.exports=function(e,t,i){var c=a(e),l=i(o,c,""[e]),u=l[0],d=l[1];r(function(){var t={};return t[c]=function(){return 7},7!=""[e](t)})&&(n(String.prototype,e,u),s(RegExp.prototype,c,2==t?function(e,t){return d.call(e,this,t)}:function(e){return d.call(e,this)}))}},"28a5":function(e,t,i){i("214f")("split",2,function(e,t,s){"use strict";var n=i("aae3"),r=s,o=[].push,a="split",c="length",l="lastIndex";if("c"=="abbc"[a](/(b)*/)[1]||4!="test"[a](/(?:)/,-1)[c]||2!="ab"[a](/(?:ab)*/)[c]||4!="."[a](/(.?)(.?)/)[c]||"."[a](/()()/)[c]>1||""[a](/.?/)[c]){var u=void 0===/()??/.exec("")[1];s=function(e,t){var i=String(this);if(void 0===e&&0===t)return[];if(!n(e))return r.call(i,e,t);var s,a,d,m,p,v=[],h=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),f=0,y=void 0===t?4294967295:t>>>0,g=new RegExp(e.source,h+"g");u||(s=new RegExp("^"+g.source+"$(?!\\s)",h));while(a=g.exec(i)){if(d=a.index+a[0][c],d>f&&(v.push(i.slice(f,a.index)),!u&&a[c]>1&&a[0].replace(s,function(){for(p=1;p<arguments[c]-2;p++)void 0===arguments[p]&&(a[p]=void 0)}),a[c]>1&&a.index<i[c]&&o.apply(v,a.slice(1)),m=a[0][c],f=d,v[c]>=y))break;g[l]===a.index&&g[l]++}return f===i[c]?!m&&g.test("")||v.push(""):v.push(i.slice(f)),v[c]>y?v.slice(0,y):v}}else"0"[a](void 0,0)[c]&&(s=function(e,t){return void 0===e&&0===t?[]:r.call(this,e,t)});return[function(i,n){var r=e(this),o=void 0==i?void 0:i[t];return void 0!==o?o.call(i,r,n):s.call(String(r),i,n)},s]})},"2c55":function(e,t,i){"use strict";i("ac6a");t["a"]={data:function(){return{validateError:[]}},methods:{hasError:function(e,t){if(void 0!==this.validateError[e]&&0==t.length)return!0},removeError:function(e){this.validateError[e]&&this.validateError.splice(e,1)},addError:function(e,t){var i=this.validateError;i[e]||(i[e]=[]),i[e].push(t)},validateInputs:function(e,t){var i=this;return this.validateError=[],e.forEach(function(e,s){t?t.forEach(function(t,n){0===e[t].length&&i.addError(s,n)}):"string"==typeof e&&0==e.length&&i.addError(s,s)}),this.validateError.length>0}}}},"39ec":function(e,t,i){"use strict";t["a"]=function(e){return e<10?"0"+e:e}},"61d4":function(e,t,i){},"7cd3":function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"time-picker"},[i("div",{staticClass:"time",on:{click:function(t){e.dropdownVisible=!e.dropdownVisible}}},[e._v(e._s(e.addLeadingZero(e.hours))+":"+e._s(e.addLeadingZero(e.minutes)))]),e.dropdownVisible?i("div",{staticClass:"time-picker-overlay",on:{click:function(t){e.dropdownVisible=!1}}}):e._e(),e.dropdownVisible?i("div",{staticClass:"dropdown"},[i("div",{staticClass:"select-list"},[i("ul",{staticClass:"hours"},[i("li",{staticClass:"hint"},[e._v("Std.")]),e._l(24,function(t){return i("li",{key:"h"+t,class:{active:t==e.activeHour},on:{click:function(i){e.changeHour(t)}}},[e._v("\n          "+e._s(e.addLeadingZero(t-1))+"\n        ")])})],2),i("ul",{staticClass:"minutes"},[i("li",{staticClass:"hint"},[e._v("Min.")]),e._l(60,function(t){return i("li",{key:"m"+t,class:{active:t==e.activeMinute},on:{click:function(i){e.changeMinute(t)}}},[e._v("\n          "+e._s(e.addLeadingZero(t-1))+"\n        ")])})],2)])]):e._e()])},n=[],r=(i("28a5"),i("cadf"),i("551c"),i("097d"),i("39ec")),o={data:function(){return{dropdownVisible:!1,hours:null,minutes:null,activeHour:null,activeMinute:null}},props:["time"],methods:{setTimes:function(){if("string"===typeof this.time){var e=this.time.split(":");this.hours=parseInt(e[0]),this.minutes=parseInt(e[1]),this.activeHour=parseInt(e[0])+1,this.activeMinute=parseInt(e[1])+1}else this.hours=this.time.hours,this.minutes=this.time.minutes,this.activeHour=parseInt(this.time.hours)+1,this.activeMinute=parseInt(this.time.minutes)+1},addLeadingZero:function(e){return Object(r["a"])(e)},emitEvent:function(){this.$emit("timeUpdate",{hours:this.hours,minutes:this.minutes})},changeHour:function(e){this.activeHour=e,this.hours=e-1,this.emitEvent()},changeMinute:function(e){this.activeMinute=e,this.minutes=e-1,this.emitEvent()}},watch:{time:function(){this.setTimes()}},mounted:function(){this.setTimes()}},a=o,c=(i("7f02"),i("2877")),l=Object(c["a"])(a,s,n,!1,null,"138788c0",null);l.options.__file="TimePicker.vue";t["a"]=l.exports},"7f02":function(e,t,i){"use strict";var s=i("61d4"),n=i.n(s);n.a},"98a5":function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.employees&&e.employees.length>1?i("ul",[i("li",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.item.employees,expression:"item.employees"}],attrs:{type:"checkbox",value:"all",id:"all-employees"+e.itemIndex,disabled:e.item.employees&&e.item.employees.indexOf("all")>-1},domProps:{checked:Array.isArray(e.item.employees)?e._i(e.item.employees,"all")>-1:e.item.employees},on:{change:[function(t){var i=e.item.employees,s=t.target,n=!!s.checked;if(Array.isArray(i)){var r="all",o=e._i(i,r);s.checked?o<0&&e.$set(e.item,"employees",i.concat([r])):o>-1&&e.$set(e.item,"employees",i.slice(0,o).concat(i.slice(o+1)))}else e.$set(e.item,"employees",n)},function(t){e.handleEmployeesCheckboxes("all",e.item.employees)}]}}),i("label",{attrs:{for:"all-employees"+e.itemIndex}},[e._v("Alle")])]),e._l(e.employees,function(t,s){return i("li",{key:s+1},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.item.employees,expression:"item.employees"}],attrs:{type:"checkbox",id:"employee"+e.itemIndex+s},domProps:{value:t.id,checked:Array.isArray(e.item.employees)?e._i(e.item.employees,t.id)>-1:e.item.employees},on:{change:[function(i){var s=e.item.employees,n=i.target,r=!!n.checked;if(Array.isArray(s)){var o=t.id,a=e._i(s,o);n.checked?a<0&&e.$set(e.item,"employees",s.concat([o])):a>-1&&e.$set(e.item,"employees",s.slice(0,a).concat(s.slice(a+1)))}else e.$set(e.item,"employees",r)},function(t){e.handleEmployeesCheckboxes(s,e.item.employees)}]}}),i("label",{attrs:{for:"employee"+e.itemIndex+s}},[e._v("\n      "+e._s(t.name)+"\n    ")])])})],2):e._e()},n=[],r=function(e,t){for(var i=e.length-1;i>=0;i-=1)e[i]!==t&&e.splice(i,1);return e},o={methods:{handleEmployeesCheckboxes:function(e,t){"all"==e?t=r(t,"all"):t.indexOf("all")>-1&&t.splice(t.indexOf("all"),1),0==t.length&&t.push("all")}},props:["item","itemIndex","employees"]},a=o,c=(i("1e5b"),i("2877")),l=Object(c["a"])(a,s,n,!1,null,null,null);l.options.__file="SelectEmployees.vue";t["a"]=l.exports},"9efa":function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("button",{staticClass:"add-item",on:{click:e.addService}},[e._v("Service hinzufÃ¼gen")]),i("h2",[e._v("Services")]),i("div",{staticClass:"grid"},[0==e.services.length?i("div",{staticClass:"no-items-added"},[i("p",[e._v("Bitte lege einen Service an.")])]):e._e(),e._l(e.services,function(t,s){return i("div",{key:"service"+s,staticClass:"block delete-able service"},[i("h3",[e._v("Servicebezeichnung")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"service.name"}],class:{error:e.hasError(s,t.name)},attrs:{type:"text",placeholder:"Name des Service"},domProps:{value:t.name},on:{input:function(i){i.target.composing||e.$set(t,"name",i.target.value)}}}),i("h3",[e._v("Dauer")]),i("div",{staticClass:"duration"},[i("timePicker",{attrs:{time:t.duration},on:{timeUpdate:function(t){e.updateTime({serviceIndex:s},t)}}})],1),i("h3",[e._v("Preis")]),i("div",{staticClass:"money"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.price,expression:"service.price"}],class:{error:e.hasError(s,t.price)},attrs:{type:"text",placeholder:"Preis"},domProps:{value:t.price},on:{input:function(i){i.target.composing||e.$set(t,"price",i.target.value)}}})]),e.employees&&e.employees.length>1?i("div",[i("p",[e._v("Welche Mitarbeiter bieten diesen Service an?")]),i("selectEmployees",{attrs:{item:t,itemIndex:s,employees:e.employees}})],1):e._e(),i("button",{staticClass:"icon remove",on:{click:function(t){e.removeService(s)}}},[i("span",[e._v("remove")])])])})],2),i("div",{staticClass:"bottom-fixed"},[i("button",{staticClass:"save",on:{click:e.update}},[e._v("Speichern")])])])},n=[],r=(i("ac6a"),i("cadf"),i("551c"),i("097d"),i("2c55")),o=i("16d9"),a=i("98a5"),c=i("7cd3"),l=(i("39ec"),{data:function(){return{error:[]}},computed:{services:function(){return this.$store.getters.services},employees:function(){return this.$store.getters.employees}},components:{selectEmployees:a["a"],timePicker:c["a"]},methods:{updateTime:function(e,t){var i=JSON.parse(JSON.stringify(this.$store.getters.services));i[e.serviceIndex].duration=t,this.$store.dispatch("updateLocalServices",i)},update:function(){var e=this,t=this.validateInputs(this.services,["name","price"]);if(!t){this.$store.dispatch("updateIsLoading",!0);var i=this.$firebase.database().ref("shop/services");i.set(e.services).finally(function(){e.$store.dispatch("updateIsLoading",!1)})}},addService:function(){this.$store.dispatch("addService",{name:"",duration:{hours:"0",minutes:"30"},price:"",employees:["all"]}),this.scrollTo(".service")},removeService:function(e){this.removeError(e),this.$store.dispatch("removeService",e)},checkIfAtLeast5Minutes:function(e,t){var i=this.services[e],s=parseInt(i.duration.hours),n=parseInt(i.duration.minutes);0==s&&0==n&&("minute"==t&&(i.duration.hours=1),"hour"==t&&(i.duration.minutes=5))}},mounted:function(){var e=this,t=[];t.push(this.$store.dispatch("updateServices",this)),t.push(this.$store.dispatch("updateEmployees",this)),Promise.all(t).then(function(){e.$store.dispatch("updateIsLoading",!1)})},mixins:[r["a"],o["a"]]}),u=l,d=(i("b766"),i("2877")),m=Object(d["a"])(u,s,n,!1,null,"04aac581",null);m.options.__file="Services.vue";t["default"]=m.exports},aae3:function(e,t,i){var s=i("d3f4"),n=i("2d95"),r=i("2b4c")("match");e.exports=function(e){var t;return s(e)&&(void 0!==(t=e[r])?!!t:"RegExp"==n(e))}},b766:function(e,t,i){"use strict";var s=i("122f"),n=i.n(s);n.a},e716:function(e,t,i){}}]);
//# sourceMappingURL=chunk-a4c032ee.846aa473.js.map