{"version":3,"sources":["webpack:///./src/views/user/Events.vue?2f9c","webpack:///./src/views/user/Events.vue?5ef3","webpack:///src/views/user/Events.vue","webpack:///./src/views/user/Events.vue?fdb7","webpack:///./src/views/user/Events.vue","webpack:///./node_modules/core-js/modules/_strict-method.js","webpack:///./src/jsModules/add-leading-zero.js","webpack:///./node_modules/core-js/modules/es6.array.sort.js","webpack:///./src/jsModules/sortArray.js"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Events_vue_vue_type_style_index_0_id_6c8588d6_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Events_vue_vue_type_style_index_0_id_6c8588d6_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_l","event","key","class","eventIsPast","timestamp","_s","date","time","service","employee","staticRenderFns","Eventsvue_type_script_lang_js_","data","events","methods","newDate","Date","getTime","concat","getDate","getMonth","Object","add_leading_zero","getHours","getMinutes","mounted","_this2","_this","uid","$store","getters","dispatch","eventsDatabase","$firebase","database","ref","orderByChild","equalTo","once","snapshot","val","userEvents","push","sortArray","error","console","log","user_Eventsvue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__","fails","module","exports","method","arg","call","$export","aFunction","toObject","$sort","sort","test","P","F","undefined","comparefn","arr","item","a","b"],"mappings":"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","file":"js/chunk-bd1ef8a2.6b99c740.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Events.vue?vue&type=style&index=0&id=6c8588d6&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Events.vue?vue&type=style&index=0&id=6c8588d6&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"my-events padding\"},[_c('h2',[_vm._v(\"Meine Buchungen\")]),_vm._l((_vm.events),function(event,key){return _c('div',{key:key,staticClass:\"event\",class:_vm.eventIsPast(event.timestamp)},[_c('ul',[_c('li',{staticClass:\"date\"},[_vm._v(_vm._s(_vm.date(event.timestamp)))]),_c('li',[_vm._v(\"Wann: \"+_vm._s(_vm.time(event.timestamp)))]),_c('li',[_vm._v(\"Service: \"+_vm._s(event.service))]),_c('li',[_vm._v(\"Mitarbeiter: \"+_vm._s(event.employee))])])])})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"my-events padding\">\n    <h2>Meine Buchungen</h2>\n    <div :class=\"eventIsPast(event.timestamp)\" class=\"event\" v-for=\"(event, key) in events\" :key=\"key\">\n      <ul>\n        <li class=\"date\">{{ date(event.timestamp) }}</li>\n        <li>Wann: {{ time(event.timestamp) }}</li>\n        <li>Service: {{ event.service }}</li>\n        <li>Mitarbeiter: {{ event.employee }}</li>\n      </ul>\n    </div>\n  </div>\n</template>\n<script>\n  import sortArray from '@/jsModules/sortArray';\n  import addLeadingZero from '@/jsModules/add-leading-zero';\n\n  export default {\n    data() {\n      return {\n        events: []\n      }\n    },\n\n    methods: {\n      eventIsPast(timestamp) {\n        const newDate = new Date().getTime();\n\n        if (timestamp < newDate) {\n          return 'past-event';\n        } else {\n          return false;\n        }\n\n      },\n      date(timestamp) {\n        const date = new Date(timestamp);\n        return `${date.getDate()}.${(date.getMonth() + 1)}`;\n      },\n\n      time(timestamp) {\n        const date = new Date(timestamp);\n        return `${addLeadingZero(date.getHours())}:${addLeadingZero(date.getMinutes())}`;\n      },\n    },\n    mounted() {\n      const _this = this;\n      const uid = this.$store.getters.uid;\n      this.$store.dispatch('updateIsLoading', true);\n      const eventsDatabase = this.$firebase.database().ref('events').orderByChild('uid').equalTo(uid);\n      try {\n        eventsDatabase.once('value', (snapshot) => {\n          if (snapshot.val()) {\n            const userEvents = snapshot.val();\n            let events = [];\n            for (let key in userEvents) {\n              events.push(userEvents[key]);\n            }\n            \n            events = sortArray('descending', events, 'timestamp');\n            _this.events = events;\n          }\n          this.$store.dispatch('updateIsLoading', false);\n        }); \n      }\n      catch(error) {\n        console.log(error);\n        this.$store.dispatch('updateIsLoading', false);\n      }\n    }\n  }\n</script>\n<style lang=\"scss\" scoped>\n  @import '@/styles/variables.scss';\n  .my-events {\n    background: $color3;\n  }\n  .date {\n    font-weight: bold;\n    font-size: 18px;\n    color: $color1;\n    position: absolute;\n    top: 24px;\n    left: 17px;\n  }\n  .event {\n    position: relative;\n    margin-bottom: 20px;\n    background: #fff;\n    border-bottom: 3px solid $color5;\n    padding: 10px 10px 10px 80px;\n    &.past-event {\n      opacity: .5;\n    }\n  }\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Events.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Events.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Events.vue?vue&type=template&id=6c8588d6&scoped=true&\"\nimport script from \"./Events.vue?vue&type=script&lang=js&\"\nexport * from \"./Events.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Events.vue?vue&type=style&index=0&id=6c8588d6&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6c8588d6\",\n  null\n  \n)\n\ncomponent.options.__file = \"Events.vue\"\nexport default component.exports","'use strict';\nvar fails = require('./_fails');\n\nmodule.exports = function (method, arg) {\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call\n    arg ? method.call(null, function () { /* empty */ }, 1) : method.call(null);\n  });\n};\n","export default (val) => {\n  if (val < 10) {\n    return '0' + val;\n  } else {\n    return val;\n  }\n  \n}","'use strict';\nvar $export = require('./_export');\nvar aFunction = require('./_a-function');\nvar toObject = require('./_to-object');\nvar fails = require('./_fails');\nvar $sort = [].sort;\nvar test = [1, 2, 3];\n\n$export($export.P + $export.F * (fails(function () {\n  // IE8-\n  test.sort(undefined);\n}) || !fails(function () {\n  // V8 bug\n  test.sort(null);\n  // Old WebKit\n}) || !require('./_strict-method')($sort)), 'Array', {\n  // 22.1.3.25 Array.prototype.sort(comparefn)\n  sort: function sort(comparefn) {\n    return comparefn === undefined\n      ? $sort.call(toObject(this))\n      : $sort.call(toObject(this), aFunction(comparefn));\n  }\n});\n","export default (method, arr, item) => {\n  arr.sort((a,b) => {\n    \n    if (item) {\n      if (method == 'ascending') {\n        return a[item] - b[item];\n      }\n\n      if (method == 'descending') {\n        return b[item] - a[item];\n      }\n    }\n\n  });\n  return arr;\n}"],"sourceRoot":""}